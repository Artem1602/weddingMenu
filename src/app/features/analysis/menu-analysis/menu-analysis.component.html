<section class="menu-analysis">
  <app-panel-card>
    <header appPanelCardHeader>
      <div class="menu-analysis__header">
        <h2>Анализ меню</h2>
        @if (hasSelection()) {
          <div class="menu-analysis__summary">
            <span>Категорий: {{ totalGroups() }}</span>
            <span>Позиции суммарно: {{ totalQuantity() }}</span>
          </div>
        }
      </div>
      <div class="menu-analysis__actions">
        <button type="button" class="btn btn-outline-secondary btn-sm" [disabled]="!hasSelection()">
          Сохранить
        </button>
        <button type="button" class="btn btn-primary btn-sm" [disabled]="!hasSelection()">
          Скачать PDF
        </button>
      </div>
    </header>

    @if (hasSelection()) {
      <app-analysis-tables [groups]="groupedItems()" />
    } @else {
      <app-empty-state message="Выберите блюда, чтобы посмотреть анализ." />
    }
  </app-panel-card>
</section>
