<section class="selected-menu">
  <app-panel-card>
    <header appPanelCardHeader>
      <div class="selected-menu__header">
        <h2>Вибране меню</h2>
        <input
          #importInput
          type="file"
          accept="application/json"
          class="visually-hidden"
          (change)="onImportFile($event)"
        />
        <button
          type="button"
          class="btn btn-primary btn-sm"
          (click)="importFromJSON()"
        >
          Імпортувати с JSON
        </button>
        <button
          type="button"
          class="btn btn-outline-danger btn-sm selected-menu__clear"
          (click)="clear()"
          [disabled]="!hasItems()"
        >
          Очистити вибір
        </button>
      </div>
      @if (hasItems()) {
        <span class="selected-menu__counter">
             Всього позицій =: {{ totalQuantity() }}
          </span>
      }
    </header>

    @if (hasItems()) {
      @for (group of groupedItems(); track group.groupName) {
        <section class="selected-menu__group">
          <h3 class="selected-menu__group-title">{{ group.groupName }}</h3>
          @for (item of group.items; track item.name) {
            <app-selected-item-row [item]="item"/>
          }
        </section>
      }
    } @else {
      <app-empty-state message="Не вибрано"/>
    }
  </app-panel-card>
</section>
<section class="menu-shell__analysis">
  <app-menu-analysis />
</section>
